# JobCamp Development Rules

## Package Manager

- Always use `pnpm` instead of `npm` for package management
- Use `pnpm install`, `pnpm add`, `pnpm run`, etc.
- Never use `npm` commands unless specifically required

## Development Commands

- Use `pnpm run dev` to start the development server
- Use `pnpm run build` to build the project
- Use `pnpm run check` to run TypeScript checks
- Use `pnpm run lint` to run linting

## Code Style

- Follow TypeScript best practices
- Use SvelteKit conventions
- Prefer concise code fixes when possible
- Maintain existing code structure and patterns

## Research Before Implementation

- ALWAYS research existing code patterns before implementing new functionality
- Look for similar implementations in the codebase (e.g., authentication, password handling, API calls)
- Check imports and dependencies to understand what libraries/modules are already being used
- Search for existing utility functions, helper methods, or established patterns
- When fixing bugs, first understand how the existing code works rather than reinventing mechanisms
- Examples of things to research first:
  - Password hashing/verification (use existing scrypt implementation)
  - Database queries (follow existing Prisma patterns)
  - API calls and form handling (use existing SvelteKit patterns)
  - Authentication flows (follow existing auth.ts patterns)
  - Error handling (use existing error patterns and constants)

## Database

- Use Prisma for database operations
- Run `pnpm prisma generate` after schema changes
- Use `pnpm prisma db push` for schema updates

## Testing & Commits

- ALWAYS run `pnpm test` before committing changes
- Update unit tests when adding new fields, functions, or changing behavior
- Run `pnpm prisma generate` after schema/migration changes
- Check for linting errors with `pnpm run lint` before commits

## Testing After Fixes

- After making ANY fix, you MUST either:
  1. Add a unit test to address the new functionality, OR
  2. Go back and revisit why existing unit tests did not catch the issue and fix the test
- Never commit a fix without ensuring it's properly tested
- If a bug was missed by existing tests, analyze why and improve test coverage
- Examples of when to add/fix tests:
  - Bug fixes that weren't caught by existing tests
  - New functionality or features
  - Changes to existing behavior
  - Error handling improvements
  - Edge cases that were previously untested

## Project Context

- This is a SvelteKit application for managing job shadowing events at schools
- Uses Lucia for authentication
- Uses Tailwind CSS for styling
- Uses bits-ui for UI components
- Uses Prisma with MySQL database
